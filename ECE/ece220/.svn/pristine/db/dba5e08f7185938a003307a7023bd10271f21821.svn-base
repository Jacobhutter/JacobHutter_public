#include <stdio.h>
#include <stdint.h>
#include <assert.h>

//Function to perform left shift
int32_t left_shift(int32_t in, uint8_t amount)
{
  int32_t mask_in = 0x1;
  int32_t mask_out = 0x1;
  int32_t rs = 0;
  uint8_t i;

  //Checking input
  if (amount > 31)
  {
    return 0;
  }

  //Shift the mask
  for (i = 0; i < amount; i++)
  {
    mask_out *= 2;
  }

  //Performing left shift
  for (i = amount; i < 32; i++)
  {
    rs |= (mask_in & in) ? mask_out : 0;
    mask_in *= 2;
    mask_out *= 2;
  }

  return rs ;
}

void test_shift(int num, int amount)
{
  assert((num << amount) == left_shift(num, amount));
}

int main()
{
  int num = 0, amount = 0;

  //Get number
  printf("Enter number to shift: ");
  scanf("%d", &num);

  //Get shift amount
  printf("Enter shift amount: ");
  scanf("%d", &amount);

  //Shift and print
  int shifted = left_shift(num, amount);
  printf("Shifted number: %d\n", shifted);

  //Test
  test_shift(num, amount);

  return 0;
}
